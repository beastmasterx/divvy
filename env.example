# =============================================================================
# Divvy API Environment Configuration
# =============================================================================
# Copy this file to .env and update with your actual values
# cp env.example .env
#
# For environment-specific configurations, create files like:
# - .env.dev
# - .env.test
# - .env.production
#
# Priority order (later files override earlier ones):
# 1. Base .env file
# 2. Environment-specific .env.{DIVVY_ENV} file
# 3. Shell environment variables (always highest priority)
# =============================================================================

# -----------------------------------------------------------------------------
# Environment
# -----------------------------------------------------------------------------
# Set the environment name (dev, test, production, etc.)
# This determines which environment-specific .env file to load
# Example: DIVVY_ENV=dev will load .env.dev
DIVVY_ENV=dev

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# Database connection URL (async format required)
# Supported async formats:
# - SQLite: sqlite+aiosqlite:///path/to/file.db
# - PostgreSQL: postgresql+asyncpg://user:password@host:port/database
# - MySQL: mysql+aiomysql://user:password@host:port/database
# - MSSQL: mssql+aioodbc://user:password@host:port/database?driver=ODBC+Driver+17+for+SQL+Server
#
# Note: This application uses async SQLAlchemy. All database URLs must use async drivers.
# Install async drivers via: pip install -e ".[postgresql]" or pip install -e ".[mysql]"
#
# If not set, defaults to SQLite: sqlite+aiosqlite:///data/expenses.db
DIVVY_DATABASE_URL=sqlite+aiosqlite:///data/expenses.db

# -----------------------------------------------------------------------------
# JWT Authentication Configuration
# -----------------------------------------------------------------------------
# JWT algorithm for signing tokens (default: HS256)
# Options: HS256, HS384, HS512, RS256, RS384, RS512, ES256, ES384, ES512
DIVVY_JWT_ALGORITHM=HS256

# JWT secret key for signing tokens (REQUIRED)
# Must be at least 32 characters long
# Generate a secure key: python -c "import secrets; print(secrets.token_urlsafe(32))"
DIVVY_JWT_SECRET_KEY=2SZCrD1OkZ9mmzpXeCwITRiLiIblMFa96l4-jyArzRE

# Access token expiration time in minutes (default: 30)
DIVVY_ACCESS_TOKEN_EXPIRE_MINUTES=30

# Refresh token expiration time in days (default: 7)
DIVVY_REFRESH_TOKEN_EXPIRE_DAYS=7

# -----------------------------------------------------------------------------
# OAuth State Token Configuration
# -----------------------------------------------------------------------------
# State token secret key for OAuth flow security (REQUIRED)
# This is separate from JWT secret key for security isolation
# Must be at least 32 characters long
# Generate a secure key: python -c "import secrets; print(secrets.token_urlsafe(32))"
DIVVY_STATE_TOKEN_SECRET_KEY=2SZCrD1OkZ9mmzpXeCwITRiLiIblMFa96l4-jyArzRE

# State token algorithm (default: uses DIVVY_JWT_ALGORITHM)
# Can be overridden independently for flexibility
# Options: HS256, HS384, HS512, RS256, RS384, RS512, ES256, ES384, ES512
DIVVY_STATE_TOKEN_ALGORITHM=

# State token expiration time in minutes (default: 10)
# This determines how long an OAuth state token remains valid
DIVVY_STATE_TOKEN_EXPIRE_MINUTES=10

# -----------------------------------------------------------------------------
# Account Link Configuration
# -----------------------------------------------------------------------------
# Account link request expiration time in hours (default: 24)
# This determines how long an account link request remains valid before expiring
DIVVY_ACCOUNT_LINK_REQUEST_EXPIRATION_HOURS=24

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
# Root log level for all Python logging (default: WARNING)
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=WARNING

# Divvy-specific log level (inherits LOG_LEVEL if not set)
# Controls only Divvy application logging, not third-party libraries
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
DIVVY_LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# Internationalization (i18n)
# -----------------------------------------------------------------------------
# Application-specific language setting
# Supported languages: en_US, zh_CN
# If not set, falls back to LANG environment variable or system locale
DIVVY_LANG=

# System language (optional, used as fallback if DIVVY_LANG is not set)
# Examples: en_US, zh_CN.UTF-8
LANG=

# -----------------------------------------------------------------------------
# Application URLs
# -----------------------------------------------------------------------------
# Frontend application URL (for OAuth redirects and client-side routing)
# This is where users are redirected after OAuth authentication
# The frontend routes /auth/callback/{provider} will handle OAuth callbacks
# Example: /auth/callback/microsoft, /auth/callback/google
DIVVY_FRONTEND_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# Identity Provider Configuration
# -----------------------------------------------------------------------------
# Microsoft Entra ID (formerly Azure AD) Configuration
# Microsoft Entra ID Client ID (Application ID)
MICROSOFT_CLIENT_ID=

# Microsoft Entra ID Client Secret
MICROSOFT_CLIENT_SECRET=

# Microsoft Entra ID Tenant ID (use 'common' for multi-tenant)
MICROSOFT_TENANT_ID=common

# Google OAuth2 Configuration
# Google OAuth2 Client ID
GOOGLE_CLIENT_ID=

# Google OAuth2 Client Secret
GOOGLE_CLIENT_SECRET=

